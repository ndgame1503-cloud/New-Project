<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Number Game</title>
  <style>
    body { font-family: Arial, sans-serif; text-align:center; background:linear-gradient(135deg,#ff9a9e,#fad0c4,#a18cd1); margin:0; padding:20px;}
    #game {display:grid; grid-template-columns:repeat(3,100px); grid-gap:10px; margin:20px auto; width:max-content;}
    button{width:100px;height:100px;font-size:24px;border-radius:12px;border:none;color:#fff;cursor:pointer; transition:transform 0.12s;}
    button:hover{transform:scale(1.05);}
    #timer{font-size:28px;margin:10px;font-weight:bold;color:green;}
    #game-over{display:none;font-size:28px;color:#ff4d4f;}
  </style>
</head>
<body>
  <h1>ðŸŒˆ Number Game</h1>
  <div id="timer">Time: 15</div>
  <div id="game"></div>
  <div id="game-over">Game Over!</div>
<script>
let timeLeft=15;
let nextNumber=1;
let buttons=[];
const colors = ['#ff4757','#3742fa','#2ed573','#ffa502','#1e90ff','#e84393','#00cec9','#fd79a8','#6c5ce7'];
function createButtons(){
  for(let i=1;i<=9;i++){
    const b=document.createElement('button');
    b.textContent=i;
    b.style.background=colors[Math.floor(Math.random()*colors.length)];
    b.addEventListener('click',()=>onClick(b));
    document.getElementById('game').appendChild(b);
    buttons.push(b);
  }
}
function onClick(btn){
  const num = parseInt(btn.textContent);
  if(num===nextNumber){
    nextNumber++;
    if(nextNumber%10===0) timeLeft+=3;
    btn.textContent=''; btn.style.background='#333';
    const empty = buttons.filter(b=>b.textContent==='');
    if(empty.length>0){
      const r = empty[Math.floor(Math.random()*empty.length)];
      const newNum = nextNumber + Math.floor(Math.random()*11);
      r.textContent=newNum; r.style.background=colors[Math.floor(Math.random()*colors.length)];
    }
  } else endGame();
}
let timer = setInterval(()=>{
  timeLeft--;
  document.getElementById('timer').textContent = 'Time: '+timeLeft;
  if(timeLeft<=0){ endGame(); }
},1000);
function endGame(){
  clearInterval(timer);
  document.getElementById('game-over').style.display='block';
  buttons.forEach(b=>b.disabled=true);
  // compute score as nextNumber-1
  const score = nextNumber-1;
  // send to parent if exists
  try{
    window.parent.postMessage({type:'score', score: score, game:'number'}, '*');
  }catch(e){}
}
createButtons();
</script>
</body>
</html>
